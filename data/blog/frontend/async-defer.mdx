---
date: "2023-06-28"
title: async, defer
tags: ["frontend"]
draft: false
summary: "자바스크립트 로딩을 비동기로 처리할때 사용하는 속성"
---

### async

HTML 파싱과 자바스크립트 파일의 다운로드를 동시에 진행하고 다운로드가 완료되는 즉시 HTML 파싱을 중지하고 자바스크립트를 실행하는 방식입니다.
실행순서가 보장되지 않기 때문에 독립적인 기능을 가졌거나 다른 스크립트와 의존성이 없는 상황에서 사용합니다.

### defer

async와 동일하게 HTML 파싱과 자바스크립트 파일의 다운로드는 동시에 진행되지만, HTML 파싱이 끝난 후 자바스크립트를 실행합니다.
실행순서를 보장해 주기 때문에 의존성이 있는 여러 스크립트를 로드하거나 DOM 생성 이후에 실행해야 하는 상황에 사용합니다.
해당 속성을 가진 스크립트들의 실행이 완료되면 DOMContentLoaded 이벤트가 발생합니다.

### 어떤 상황에서 사용해야 하는가

1. 스크립트 태그의 위치
   - 스크립트 태그가 `</body>`에 있다면 해당 속성들은 큰 효과가 없습니다. 단, defer를 통해 미리 다운로드 되는 이점은 있습니다.
2. DOM 생성이 중단되는 문제가 발생하는 지
   - `</body>` 에 있지 않은 경우 스크립트를 로드하게 되면 DOM생성이 중단되므로 해당 자바스크립트태그에 async, defer 속성을 부여합니다.
3. 다른 스크립트 파일과 의존성
   - 의존성이 있다면 실행순서가 보장되는 defer 를 사용합니다.
